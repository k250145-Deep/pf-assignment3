#include<stdio.h>
#include<string.h>
typedef struct {
	int id;
	int popularity;
	int last_used;
	int occupied;
} Book ;
int main(){
	int capacity , Q ;
	scanf("%d %d",&capacity, &Q);
	Book shelf[1000];
	int i;
	for(i=0;i<capacity;i++)
	shelf[i].occupied = 0;
	int timer = 0;
   while (Q--) {
        char op[10];
        scanf("%s", op);
        if (strcmp(op, "ADD") == 0) {
            int x, y;
            scanf("%d %d", &x, &y);
            int idx = -1;
            int i;
            for (i = 0; i < capacity; i++) {
                if (shelf[i].occupied && shelf[i].id == x) {
                    idx = i;
                    break;
                }
            }
            if (idx != -1) {
                shelf[idx].popularity = y;
                shelf[idx].last_used = ++timer;
                continue;
            }
            int empty = -1;
            for (i = 0; i < capacity; i++) {
                if (!shelf[i].occupied) {
                    empty = i;
                    break;
                }
            }
            if (empty == -1) {
                int lru = 0;
                for (i = 1; i < capacity; i++) {
                    if (shelf[i].last_used < shelf[lru].last_used)
                        lru = i;
                }
                empty = lru;
            }
            shelf[empty].id = x;
            shelf[empty].popularity = y;
            shelf[empty].last_used = ++timer;
            shelf[empty].occupied = 1;
        }
        else if (strcmp(op, "ACCESS") == 0) {
            int x;
            scanf("%d", &x);
            int idx = -1;
            for (i = 0; i < capacity; i++) {
                if (shelf[i].occupied && shelf[i].id == x) {
                    idx = i;
                    break;
                }
            }
            if (idx == -1) {
                printf("-1\n");
            } else {
                printf("%d\n", shelf[idx].popularity);
                shelf[idx].last_used = ++timer;
            }
        }
    }
	return 0;
}
